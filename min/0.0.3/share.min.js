var NO_JQUERY={};!function(a,b,c){var d=!1;if(!("console"in a)||d){var e=a.console={};e.log=e.warn=e.error=e.debug=function(){}}b===NO_JQUERY&&(b={fn:{},extend:function(){for(var a=arguments[0],b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)a[e]=d[e]}return a}}),b.fn.pm=function(){return console.log("usage: \nto send:    $.pm(options)\nto receive: $.pm.bind(type, fn, [origin])"),this},b.pm=a.bufferpm=function(a){f.send(a)},b.pm.bind=a.bufferpm.bind=function(a,b,c,d){f.bind(a,b,c,d)},b.pm.unbind=a.bufferpm.unbind=function(a,b){f.unbind(a,b)},b.pm.origin=a.bufferpm.origin=null,b.pm.poll=a.bufferpm.poll=200;var f={send:function(a){var c=b.extend({},f.defaults,a),d=c.target;if(!c.target)return void console.warn("postmessage target window required");if(c.type){var e={data:c.data,type:c.type};c.success&&(e.callback=f._callback(c.success)),c.error&&(e.errback=f._callback(c.error)),"postMessage"in d&&!c.hash?(f._bind(),d.postMessage(JSON.stringify(e),c.origin||"*")):(f.hash._bind(),f.hash.send(c,e))}},bind:function(c,d,e,g){"postMessage"in a&&!g?f._bind():f.hash._bind();var h=f.data("listeners.postmessage");h||(h={},f.data("listeners.postmessage",h));var i=h[c];i||(i=[],h[c]=i),i.push({fn:d,origin:e||b.pm.origin})},unbind:function(a,b){var c=f.data("listeners.postmessage");if(c)if(a)if(b){var d=c[a];if(d){for(var e=[],g=0,h=d.length;h>g;g++){var i=d[g];i.fn!==b&&e.push(i)}c[a]=e}}else delete c[a];else for(var g in c)delete c[g]},data:function(a,b){return b===c?f._data[a]:(f._data[a]=b,b)},_data:{},_CHARS:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),_random:function(){for(var a=[],b=0;32>b;b++)a[b]=f._CHARS[0|32*Math.random()];return a.join("")},_callback:function(a){var b=f.data("callbacks.postmessage");b||(b={},f.data("callbacks.postmessage",b));var c=f._random();return b[c]=a,c},_bind:function(){f.data("listening.postmessage")||(a.addEventListener?a.addEventListener("message",f._dispatch,!1):a.attachEvent&&a.attachEvent("onmessage",f._dispatch),f.data("listening.postmessage",1))},_dispatch:function(a){try{var b=JSON.parse(a.data)}catch(c){return}if(b.type){var d=f.data("callbacks.postmessage")||{},e=d[b.type];if(e)e(b.data);else for(var g=f.data("listeners.postmessage")||{},h=g[b.type]||[],i=0,j=h.length;j>i;i++){var k=h[i];if(k.origin&&a.origin!==k.origin){if(console.warn("postmessage message origin mismatch",a.origin,k.origin),b.errback){var l={message:"postmessage origin mismatch",origin:[a.origin,k.origin]};f.send({target:a.source,data:l,type:b.errback})}}else try{var m=k.fn(b.data);b.callback&&f.send({target:a.source,data:m,type:b.callback})}catch(c){b.errback&&f.send({target:a.source,data:c,type:b.errback})}}}}};f.hash={send:function(b,c){var d=b.target,e=b.url;if(!e)return void console.warn("postmessage target window url is required");e=f.hash._url(e);var g,h=f.hash._url(a.location.href);if(a==d.parent)g="parent";else try{for(var i=0,j=parent.frames.length;j>i;i++){var k=parent.frames[i];if(k==a){g=i;break}}}catch(l){g=a.name}if(null==g)return void console.warn("postmessage windows must be direct parent/child windows and the child must be available through the parent window.frames list");var m={"x-requested-with":"postmessage",source:{name:g,url:h},postmessage:c},n="#x-postmessage-id="+f._random();d.location=e+n+encodeURIComponent(JSON.stringify(m))},_regex:/^\#x\-postmessage\-id\=(\w{32})/,_regex_len:"#x-postmessage-id=".length+32,_bind:function(){f.data("polling.postmessage")||(setInterval(function(){var b=""+a.location.hash,c=f.hash._regex.exec(b);if(c){var d=c[1];f.hash._last!==d&&(f.hash._last=d,f.hash._dispatch(b.substring(f.hash._regex_len)))}},b.pm.poll||200),f.data("polling.postmessage",1))},_dispatch:function(b){if(b){try{if(b=JSON.parse(decodeURIComponent(b)),!("postmessage"===b["x-requested-with"]&&b.source&&null!=b.source.name&&b.source.url&&b.postmessage))return}catch(c){return}var d=b.postmessage,e=f.data("callbacks.postmessage")||{},g=e[d.type];if(g)g(d.data);else{var h;h="parent"===b.source.name?a.parent:a.frames[b.source.name];for(var i=f.data("listeners.postmessage")||{},j=i[d.type]||[],k=0,l=j.length;l>k;k++){var m=j[k];if(m.origin){var n=/https?\:\/\/[^\/]*/.exec(b.source.url)[0];if(n!==m.origin){if(console.warn("postmessage message origin mismatch",n,m.origin),d.errback){var o={message:"postmessage origin mismatch",origin:[n,m.origin]};f.send({target:h,data:o,type:d.errback,hash:!0,url:b.source.url})}continue}}try{var p=m.fn(d.data);d.callback&&f.send({target:h,data:p,type:d.callback,hash:!0,url:b.source.url})}catch(c){d.errback&&f.send({target:h,data:c,type:d.errback,hash:!0,url:b.source.url})}}}}},_url:function(a){return(""+a).replace(/#.*$/,"")}},b.extend(f,{defaults:{target:null,url:null,type:null,data:null,success:null,error:null,origin:"*",hash:!1}})}(this,"undefined"==typeof jQuery?NO_JQUERY:jQuery);var BufferShare={tpc_disabled:!1,addLoadEvent:function(a){var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b&&b(),a()}},getMetaContentFromProperty:function(a){var b=document.getElementsByTagName("meta");for(var c in b)try{if(b[c].getAttribute("property")==a)return b[c].content}catch(d){}return null},getTitle:function(){return document.title},getText:function(a){return a=a||BufferShare.getMetaContentFromProperty("og:title")||BufferShare.getTitle(),encodeURIComponent(a)},getAddUrl:function(a){for(var b,c,d,e=["url","text","via","picture","preferred_login","partner_source","partner_placement","retweeted_tweet_id","retweeted_user_id","retweeted_user_name","retweeted_user_display_name"],f=["client_assistance=1","signup_client=sharejs"],g=e.length-1;g>=0;g--)b=e[g],c="data-"+b.replace(/_/g,"-"),(d=a.getAttribute(c))&&f.push(b+"="+encodeURIComponent(d));return"http://bufferapp.com/bookmarklet?"+f.join("&")},createBufferIframe:function(a){BufferShare.closeBufferIframe();var b=document.createElement("iframe");b.allowtransparecny="true",b.scrolling="no",b.id="buffer_iframe",b.name="buffer_iframe",b.style.cssText="border: none;height: 100%;width: 100%;position: fixed;z-index: 9999999999;top: 0px;left: 0; margin: 0; background: none; background-color: transparent; background-color: rgba(0, 0, 0, 0.1); zoom: 1; height: 100%; ",b.src=a;var c=document.getElementsByTagName("body")[0],d=document.createElement("div");d.id="buffer_share_footer",d.style.cssText="z-index:99999999999;background: #ffffff url(https://d389zggrogs7qo.cloudfront.net/images/bookmarklet_icon.png) 35px 16px no-repeat; background-size: 30px; box-shadow: 0 -1px 8px rgba(0, 0, 0, 0.1); border-top: 1px solid #ccc; border-bottom-left-radius: 4px; height: 60px; width: 100%; position: fixed; bottom: 0; right: 0;",d.innerHTML='<ul style="float: right; margin-top: 21px; margin-right: 20px; min-width: 170px;"> <li style="list-style-type: none; background:none;"><a          href="https://bufferapp.com/app" target="_blank" style="background: #eee; background: -moz-linear-gradient(top, #ffffff 0%, #ececec 100%); background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #ffffff), color-stop(100%, #ececec)); background: -webkit-linear-gradient(top, #ffffff 0%, #ececec 100%); background: -o-linear-gradient(top, #ffffff 0%, #ececec 100%); background: -ms-linear-gradient(top, #ffffff 0%, #ececec 100%); background: linear-gradient(top, #ffffff 0%, #ececec 100%); border: 1px solid #aaa; border-top: 1px solid #ccc; border-left: 1px solid #ccc; padding: 8px 10px; font-size: 12px; font-weight: bold; text-decoration: none; text-shadow: 0 1px #fff; cursor: pointer; font-family: \'HelveticaNeue\',\'Helvetica Neue\',Helvetica,Arial,sans-serif !important; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; -moz-background-clip: padding; -webkit-background-clip: padding-box; background-clip: padding-box;">Visit Buffer Dashboard</a></li> </ul>',c.appendChild(b),c.appendChild(d);var e=document.createElement("style");return e.type="text/css",e.innerHTML="#buffer_share_footer a{color: #5f5f5f!important;opacity: 0.8;-moz-opacity: 0.8;-webkit-opacity: 0.8;-o-opacity: 0.8;} #buffer_share_footer a:hover{color: #4f4f4f!important;opacity: 1;-moz-opacity: 1;-webkit-opacity: 1;-o-opacity: 1;}",document.body.appendChild(e),BufferShare.bindCloseListener(),b},init:function(){document.addEventListener("click",function(a){a=a||window.event;var b=a.target||a.srcElement;if(b){var c=b.getAttribute("data-buffer-share");if("string"!=typeof c&&/(^| )buffer-share( |$)/.test(b.className)&&(c="true"),"string"==typeof c&&"false"!=c){var d=BufferShare.getAddUrl(b);return BufferShare.tpc_disabled?window.open(d,null,"height=600,width=850"):BufferShare.createBufferIframe(d),!1}}},!1)},closeBufferIframe:function(){elem=document.getElementById("buffer_iframe"),elem&&elem.parentNode.removeChild(elem),elem=document.getElementById("buffer_share_footer"),elem&&elem.parentNode.removeChild(elem)},bindCloseListener:function(){bufferpm.bind("buffermessage",function(){return BufferShare.closeBufferIframe(),!1})},TPCDisabledCheck:function(){bufferpm.bind("buffer_3pc_done",function(){return elem=document.getElementById("buffer_tpc_check"),elem&&elem.parentNode.removeChild(elem),!1}),bufferpm.bind("buffer_3pc_disabled",function(){return BufferShare.tpc_disabled=!0,!1});var a=document.createElement("iframe");a.id="buffer_tpc_check",a.src="https://d3ijcis4e2ziok.cloudfront.net/tpc-check.html",a.style.display="none",document.body.appendChild(a)}};BufferShare.init(),BufferShare.addLoadEvent(BufferShare.TPCDisabledCheck);